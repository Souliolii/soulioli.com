---
layout: default
title: Home
---

<div class="hero hero-home">
  <div class="hero-split">
    <div>
      <h1><span class="brand-gradient">soulioli's archive</span></h1>
      <p>a running log of things i find noteworthy.</p>
      <div class="hero-actions">
        <a class="btn btn-primary" href="/archive">Browse Archive</a>
        <button id="home-about-trigger" class="btn btn-highlight" type="button">About</button>
        <a class="btn btn-highlight" href="https://github.com/Souliolii/soulioli.com">Repo</a>
      </div>
    </div>
    <div class="hero-visual{% unless site.hero_logo %} is-fallback{% endunless %}" aria-hidden="true">
      {% if site.hero_logo %}
        <img class="hero-visual-logo" src="{{ site.hero_logo | relative_url }}" alt="" />
      {% endif %}
    </div>
  </div>
</div>

<div id="home-main-grid" class="grid home-grid">
  <div class="card">
    <div class="hd">Latest entries</div>
    <div class="bd">
      <div class="post-scroll">
        {% assign sorted_posts = site.posts | sort: "date" | reverse %}
        {% for post in sorted_posts limit: 30 %}
          <a class="post-item" href="{{ post.url }}">
            <div class="post-title">{{ post.title }}</div>
            <div class="meta">
              <span>{{ post.date | date: "%b %d, %Y %I:%M %p" }}</span>
              {% if post.tags %}<span>|</span><span>{{ post.tags | join: ", " }}</span>{% endif %}
            </div>
            {% if post.excerpt %}<div class="excerpt">{{ post.excerpt | strip_html | truncate: 160 }}</div>{% endif %}
          </a>
        {% endfor %}
      </div>
    </div>
  </div>

  <div class="card">
    <div class="hd">Pinned Posts</div>
    <div class="bd">
      {% assign pinned_posts = site.posts | where: "pinned", true | sort: "pin_order" %}
      {% if pinned_posts.size > 0 %}
        {% if site.pinned_sections and site.pinned_sections.size > 0 %}
          <div class="pin-tabs" role="tablist" aria-label="Pinned post sections">
            {% for section in site.pinned_sections %}
              <button class="pin-tab{% if forloop.first %} is-active{% endif %}" type="button" data-pin-target="{{ section.id }}" role="tab" aria-selected="{% if forloop.first %}true{% else %}false{% endif %}">
                {{ section.label }}
              </button>
            {% endfor %}
          </div>

          {% for section in site.pinned_sections %}
            <div class="pin-panel post-scroll{% if forloop.first %} is-active{% endif %}" data-pin-panel="{{ section.id }}" role="tabpanel">
              {% if section.tag == "all" %}
                {% assign section_posts = pinned_posts %}
              {% else %}
                {% assign section_posts = pinned_posts | where_exp: "post", "post.tags contains section.tag" %}
              {% endif %}

              {% if section_posts.size > 0 %}
                {% for post in section_posts limit: 30 %}
                  <a class="post-item" href="{{ post.url }}">
                    <div class="post-title">{{ post.title }}</div>
                    <div class="meta">
                      <span>{{ post.date | date: "%b %d, %Y %I:%M %p" }}</span>
                      {% if post.tags %}<span>|</span><span>{{ post.tags | join: ", " }}</span>{% endif %}
                    </div>
                    {% if post.excerpt %}<div class="excerpt">{{ post.excerpt | strip_html | truncate: 120 }}</div>{% endif %}
                  </a>
                {% endfor %}
              {% else %}
                <p style="margin-top:0;color:var(--muted);">No pinned posts in this section yet.</p>
              {% endif %}
            </div>
          {% endfor %}
        {% else %}
          <div class="post-scroll">
          {% for post in pinned_posts limit: 30 %}
            <a class="post-item" href="{{ post.url }}">
              <div class="post-title">{{ post.title }}</div>
              <div class="meta">
                <span>{{ post.date | date: "%b %d, %Y %I:%M %p" }}</span>
                {% if post.tags %}<span>|</span><span>{{ post.tags | join: ", " }}</span>{% endif %}
              </div>
              {% if post.excerpt %}<div class="excerpt">{{ post.excerpt | strip_html | truncate: 120 }}</div>{% endif %}
            </a>
          {% endfor %}
          </div>
        {% endif %}
      {% else %}
        <p style="margin-top:0;color:var(--muted);">No pinned posts yet.</p>
        <p style="margin-top:8px;color:var(--faint);">Add <code>pinned: true</code> to a post's front matter to pin it here.</p>
      {% endif %}
    </div>
  </div>
</div>

<div id="home-about-panel" class="home-about-panel">
  <div class="card">
    <div class="hd">About This Site</div>
    <div class="bd">
      <p style="margin-top:0;color:var(--muted);">This is my personal archive for notes, projects, experiments, and things worth saving.</p>
      <p>I started this as a simple logbook, but it is now a broader home for my interests: software, systems, web projects, game notes, and everything in between.</p>
      <p>If it is useful to anyone else, great. If not, it still works as my long-term memory.</p>
      <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap;">
        <button id="home-about-back" class="pill" type="button">Back to Home Feed</button>
      </div>
    </div>
  </div>
</div>

<script>
  (function () {
    var tabs = document.querySelectorAll("[data-pin-target]");
    var panels = document.querySelectorAll("[data-pin-panel]");
    if (!tabs.length || !panels.length) return;

    function setActive(targetId) {
      tabs.forEach(function (tab) {
        var isActive = tab.getAttribute("data-pin-target") === targetId;
        tab.classList.toggle("is-active", isActive);
        tab.setAttribute("aria-selected", isActive ? "true" : "false");
      });
      panels.forEach(function (panel) {
        var isActive = panel.getAttribute("data-pin-panel") === targetId;
        panel.classList.toggle("is-active", isActive);
      });
    }

    tabs.forEach(function (tab) {
      tab.addEventListener("click", function () {
        setActive(tab.getAttribute("data-pin-target"));
      });
    });
  })();

  (function () {
    var trigger = document.getElementById("home-about-trigger");
    var back = document.getElementById("home-about-back");
    var grid = document.getElementById("home-main-grid");
    var panel = document.getElementById("home-about-panel");
    if (!trigger || !back || !grid || !panel) return;

    function showAboutPanel() {
      grid.classList.add("is-hidden");
      setTimeout(function () {
        grid.classList.add("is-collapsed");
        panel.classList.add("is-visible");
      }, 260);
    }

    function showMainGrid() {
      panel.classList.remove("is-visible");
      setTimeout(function () {
        grid.classList.remove("is-collapsed");
        grid.classList.remove("is-hidden");
      }, 260);
    }

    trigger.addEventListener("click", function () {
      showAboutPanel();
    });

    back.addEventListener("click", function () {
      showMainGrid();
    });
  })();
</script>
