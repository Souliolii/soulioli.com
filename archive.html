---
layout: default
title: Archive
---

<div class="hero hero-home">
  <div>
    <h1><span class="brand-gradient">soulioli's archive</span></h1>
    <p>a running log of things i find noteworthy.</p>
    <div class="hero-actions">
      <a class="btn btn-primary" href="/">Browse Archive</a>
    </div>
  </div>
</div>

<div class="card">
  <div class="bd">
    {% assign sorted_posts = site.posts | sort: "date" | reverse %}
    {% if site.pinned_sections and site.pinned_sections.size > 0 %}
      <div class="pin-tabs" role="tablist" aria-label="Archive tag sections">
        {% for section in site.pinned_sections %}
          <button class="pin-tab{% if forloop.first %} is-active{% endif %}" type="button" data-archive-target="{{ section.id }}" role="tab" aria-selected="{% if forloop.first %}true{% else %}false{% endif %}">{{ section.label }}</button>
        {% endfor %}
      </div>

      {% for section in site.pinned_sections %}
        <div class="pin-panel archive-scroll{% if forloop.first %} is-active{% endif %}" data-archive-panel="{{ section.id }}" role="tabpanel">
          {% if section.tag == "all" %}
            {% assign section_posts = sorted_posts %}
          {% else %}
            {% assign section_posts = sorted_posts | where_exp: "post", "post.tags contains section.tag" %}
          {% endif %}

          {% if section_posts.size > 0 %}
            {% for post in section_posts %}
              <div class="post-item" style="padding: 12px 0;">
                <div class="post-title" style="margin:0 0 3px;">
                  <a href="{{ post.url }}">{{ post.title }}</a>
                </div>
                <div class="meta">
                  <span>{{ post.date | date: "%B %d, %Y %I:%M %p" }}</span>
                  {% if post.tags %}<span>|</span><span>{{ post.tags | join: ", " }}</span>{% endif %}
                </div>
              </div>
            {% endfor %}
          {% else %}
            <p style="margin-top:0;color:var(--muted);">No posts in this section yet.</p>
          {% endif %}
        </div>
      {% endfor %}
    {% else %}
      <div class="pin-panel archive-scroll is-active" data-archive-panel="all" role="tabpanel">
        {% for post in sorted_posts %}
          <div class="post-item" style="padding: 12px 0;">
            <div class="post-title" style="margin:0 0 3px;">
              <a href="{{ post.url }}">{{ post.title }}</a>
            </div>
            <div class="meta">
              <span>{{ post.date | date: "%B %d, %Y %I:%M %p" }}</span>
              {% if post.tags %}<span>|</span><span>{{ post.tags | join: ", " }}</span>{% endif %}
            </div>
          </div>
        {% endfor %}
      </div>
    {% endif %}
  </div>
</div>

<script>
  (function () {
    var tabs = document.querySelectorAll("[data-archive-target]");
    var panels = document.querySelectorAll("[data-archive-panel]");
    if (!tabs.length || !panels.length) return;

    function setActive(targetId) {
      tabs.forEach(function (tab) {
        var isActive = tab.getAttribute("data-archive-target") === targetId;
        tab.classList.toggle("is-active", isActive);
        tab.setAttribute("aria-selected", isActive ? "true" : "false");
      });

      panels.forEach(function (panel) {
        var isActive = panel.getAttribute("data-archive-panel") === targetId;
        panel.classList.toggle("is-active", isActive);
      });
    }

    tabs.forEach(function (tab) {
      tab.addEventListener("click", function () {
        setActive(tab.getAttribute("data-archive-target"));
      });
    });
  })();
</script>
